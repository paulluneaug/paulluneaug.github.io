---
draft: false
title: "Fractals and Procedural Generation"
cover: /images/projects/covers/FractalsProceduralGeneration.jpg
alt: "Fractals and Procedural Generation cover"
description: " "
tags: ['Unity', 'C#', 'HLSL', 'Shaders', 'Compute shaders', 'Procedural Generation']
publishDate: 2023-08-10
highlight: true
---

## Project description

*Fractals and Procedural Generation* is a project I made first to learn how write my fist shaders in HLSL by implementing a Julia's fractal renderer. But I quickly became more and more interested in the subject so I stated to implement an infinite procedural world using Perlin noise and the marching cube algorithm

## Technical overview

### Languages and tools used

This project was made using Unity and used a lot of **HLSL** for both **compute shaders** and **fragment shaders** as well as **C#**.

During the project I also had the opportunity to used some more advanced C# and Unity features like **unmanaged memory**, **pointers** and Unity's **Jobs system**.

### Marching cube

Implemented a 3D perlin noise generator in HLSL
Implemented a marching cube generator capable of generating an infinite world 

#### Optimizations

One thing I wanted to optimize while making this project were the meshes generated by the marching cube algorithm.
Indeed, when 2 neighbouring cubes are generated, the vertices they're supposed to share are actually duplicated, one in each cell mesh. My goal was to remove these duplicate vertices when grouping the cubes into chunks.

The first step is to 


### Possible improvements

If I have time, I would like to go back to this project and improve it.

#### Algorithm

For instance, the algorithm that removes duplicate vertices and groups the cube meshes into chunks could be optimized and parallelized more efficiently.

#### Data structure

The data structure of the marching cube cells could also be shrunk to use less VRAM and reduce the time needed to retrieve informations from the GPU.

Currently, each cell is a struct able to hold 12 vertices (12 × 3 floats) and 4 triangles (4 × 3 ints) for a total size of (12 × 3 + 4 × 3) × 4 = 192 bytes. {{< br >}}
The cells are then merged into bigger chunk meshes grouping 16 × 16 × 16 = 4096 cells

But given that the the vertices are only stored in this cell if in position 1;3;8, we could in theory trim the cell struct to just 3 vertices and 4 triangles.
The  for the 16th slice in each dimention which cant point to the next slice because it is a different chunk

Fixing this is pretty easy, we could just increase the size of the chunks by 1.

cellSize = 12*3*4 + 4*3*4 bytes
newCellSize = 3*3*4 + 4*3*4 bytes

The chunk size would go from 16*16*16*cellSize to 17*17*17*newCellSize

## Links

{{< button href="https://paulluneau.itch.io/fractals-and-procedural-generation" target="_blank">}}
{{< icon "itchio" >}} Itch.io
{{< /button >}}

{{< empty-p >}}

{{< itchio id="2476645" linkback="true" dark="true" >}}

{{< empty-p >}}

{{< button href="https://github.com/paulluneaug/Shaders_Fractal_Noise_and_ProceduralGeneration" target="_blank">}}
{{< icon "github" >}} GitHub Repository
{{< /button >}}

{{< empty-p >}}

{{< github repo="paulluneaug/Shaders_Fractal_Noise_and_ProceduralGeneration" showThumbnail=false >}}